> sizeof()
- ermittelt die Größe des als Argument übergebenen Datentyps in Byte
- -> diese ist manchmal nicht klar, bzw damit ist der Code kompatibel mit mehreren Systemen
- `sizeof(char) == 1` gilt immer

- Kann auch auf Variablen aufgerufen werden

> Alignment #asp/important  
- Anforderung an Ausrichtung der Speicheradresse eines Objektes
	- Speicheradresse muss immer ein Vielfaches vom Alignment sein 
	- Alignment ist Vielfaches der Größe eines Datentyps

- Beispiel int
	- Größe: 4 Byte
	- Alignment entweder 1, 2, oder 4 Byte
	- Üblicherweise 4 Byte Alignment
	- -> Speicheradresse einer int-Variable muss durch 4 teilbar sein

# struct
- äquivalent zu Objekten 
- Elemtne liegen aufeinanderfolgen (ggf. mit Padding) im Speicher
```c
struct Penguin {
	int age; 
	char* name;
};
```
- ![[Pasted image 20251030163638.png|340]]
- Zugriff direkt: `penguin.age = 0`
- Zugriff über Pointer: `penguin_ptr->age = 0;`

> Initialisierung
```c
struct Penguin penguin1 = {.age = 0, .name = "Tux"};

// Implizit: penguin2.name = NULL
struct Penguin penguin2 = {.age = 0};

// Initialisierung mit festgelegter Reihenfolge
struct Penguin penguin3 = {0, "Tux"};

// Initialisierung aller Elem zu 0
struct Penguin penguin4 = {0};
```

## struct als Parameter
```c
struct Penguin {
	char* name;
	unsigned age;
};

void print_penguin_name1(struct Penguin *penguin) {
	printf("name: %s\n", penguin->name);
}

void print_penguin_name2(struct Penguin penguin) {
	printf("name: %s\n", penguin.name);
}

int main(void) {
	struct Penguin penguin = {"tux", 5};
	print_penguin_name1(&penguin);
	print_penguin_name2(penguin);
}
```
- wenn ein struct direkt als Param übergeben wird, wird davon eine KOPIE gemacht -> falls der struct verändert wird, ist es nur innerhalb der Funktion
	- Kopieren von größeren Obj kann zu Performance Issues führen
- mit Pointer als Param wird der struct "an sich" bearbeitet 


# union
- erlaubt Zugriff auf einen Speicherbereich mit unterschiedlichen Datentypen
- z.B. sinnvoll, wenn aus diesen Datentypen maximal einer gleichzeitig benutzt wird -> man kann so z.B. extra casten vermeiden

- alle Datentypen werden an der gleichen Stelle gespeichert -> spart Speicherplatz
- ![[Pasted image 20251030165739.png|215]]
- `union {char c; short s; int i;}* u;`
- speichert NUR das zuletzt geschriebene Element
	- wird also meistens in einem Struct kombiniert mit einem anderen Element der angibt welches Elem zuletzt beschrieben worden ist
```c
struct Dimension {...}
struct Shape {
	int shape_kind;  // 1 = circle, 2 = rect, ...
	union {
		int circle_radius;
		struct Dimension rect;
	};
};

//...

struct Shape my_circ = { .shape_kind = 1, { .circle_radius = 10 }};
```

- als Param und Zugriff darauf analog zu struct